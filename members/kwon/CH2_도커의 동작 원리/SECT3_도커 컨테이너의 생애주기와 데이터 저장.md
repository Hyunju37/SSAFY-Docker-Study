# SECTION 3. 도커 컨테이너의 생애주기와 데이터 저장
---
> 컨테이너는 '오랫동안 아껴 쓰는 물건'이 아니라 '그때 그때 쓰고 버리는 일회용품'에 가깝다.

## 1. 컨테이너의 생애 주기

컨테이너는 쉽게 만들 수 있기 때문에, 하나를 업데이트하면서 계속 사용하기보다는 업데이트된 소프트웨어가 들어있는 새로운 컨테이너를 사용하는 것이 좋다.

기본적으로 컨테이너는 여러 개를 동시에 가동하는 상황을 전제로 하는데 이를 모두 업데이트하려면 많은 수고가 든다. 이는 컨테이너의 장점이 퇴색되는 것이다.

그러므로 오래된 컨테이너를 버리고 새로운 이미지로부터 새로운 컨테이너를 만들어 갈아타는 방식을 사용한다.
이처럼 컨테이너를 '만들고', '실행하고', '종료하고', '폐기'한 다음 다시 컨테이너를 '만드는' 일련의 과정을 **컨테이너의 생애 주기**라고 한다.

### 1-1. 데이터 저장

컨테이너를 폐기할 때 데이터를 보존하기 위해 **도커가 설치된 물리적 서버(호스트)의 디스크를 마운트해** 이 디스크에 데이터를 저장한다.

여기서 마운트는 "디스크를 연결해 데이터를 기록할 수 있도록 한 상태"를 의미한다. 이런 방법으로 컨테이너 외부에 데이터를 안전하게 저장한다.

운영체제나 소프트웨어 부분은 컨테이너 형태로 만들어 쓰고 버리는 것을 반복하고, 데이터는 다른 곳에 저장해 계속 사용한다. 이는 설정 파일도 마찬가지로 파일을 수정했다면 삭제되지 않을 곳에 저장한다.

그러나 프로그램을 개발 할 때는 다른 저장소에 저장하지 않는 경우도 있으므로 컨테이너를 폐기하기 전 중요한 데이터가 컨테이너에 포함되어 있는지 확인해야 한다.