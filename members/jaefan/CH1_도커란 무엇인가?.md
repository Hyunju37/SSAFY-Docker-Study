# CH1. 도커란 무엇인가?
---
## SECTION 01. 도커란 무엇인가?
---

`도커` 를 한마디로 정의하면 `'데이터 또는 프로그램을 독립된 환경에 (운영체제 통째로) 격리시키는 기능을 제공하는 소프트웨어'` 라고 정의할 수 있다. 

도커는 주로 `서버` 에 사용된다. 

위에서 언급한 '독립된 환경'을 `컨테이너(Container)`라고 하고, 컨테이너를 다루는 기능을 제공하는 SW가 '도커' 이다.

도커를 사용하기 위해서는 도커의 본체인 `도커 엔진(Docker Engine)`이 필요하다.

도커 엔진으로 컨테이너를 운용할 수 있지만, 컨테이너를 생성하기 위해서는 `이미지`가 필요하다.  
('빵틀과 같은 역할'이라고 표현한 것으로 보아 OOP에서의 클래스와 객체 관계를 생각하면 될 것 같다.)

-> 컨테이너에서 사용하고자 하는 데이터 혹은 SW에 맞는 이미지를 사용하여 컨테이너를 만든다.

하나의 도커(도커 엔진)에서 여러 개의 컨테이너를 운용하는 것 또한 가능하다. (자원이 충분하다면)

제약 사항
- `Linux OS`가 필요하다. 
  - windows / macOS에서 도커를 구동할 수 있지만, 내부적으로는 Linux가 사용 된다.
  - 컨테이너에서 동작하는 프로그램 또한 Linux 전용 프로그램이다.  
  
  
독립된 환경이 필요한 이유?
- 대부분의 프로그램은 `다양한 의존성`을 가지고 있다. (라이브러리, 모듈 혹은 타 프로그램과의 의존성)
- 독립되지 않은 하나의 환경에서 다양한 의존성을 가진 프로그램들이 운용된다면, `의존성 관련 문제`가 생길 수 있다.  
- e.g.  
  A와 B는 하나의 서버에서 운용되고 있으며, A 프로그램은 C 프로그램이 5.0 이어야만 동작하는 상황에서  
  B 프로그램이 C가 6.0 이상이어야 동작한다는 이유로 C를 6.0이상으로 업데이트한다면 해당 서버에서 A는 정상적인 동작을 하지 못할 것이다.


<u> -> A와 B에게 각각 독립적인 실행 환경을 제공한다면, 두 프로그램이 한 서버에서 실행되면서 발생하는 문제를 대부분 해결할 수 있다. </u>

## SECTION 02. 서버와 도커 
---

`서버`란 `어떤 서비스(service)를 제공(serve)하는 것`을 가리킨다.

서버는 크게 두 가지의 의미를 가진다.

**1. 기능적 의미의 서버**
- 기능적 의미에서의 서버는 `특정한 기능이나 서비스를 제공`하는 SW 애플리케이션이나 시스템을 말한다.
- 예를 들어, 웹 서버는 웹 페이지 요청을 처리하고 클라이언트에게 HTML을 반환하는 역할을 하며, DB 서버는 데이터를 저장, 검색 및 관리하는 기능을 수행한다.
- 기능적 서버는 일반적으로 물리적 컴퓨터나 가상화된 환경에서 작동하며, 그 `역할`이 주된 의미가 된다.
- SW 개념으로서의 기능적 역할에 초점이 맞추어져 있다.
  
**2. 물리적 컴퓨터로의 서버** 
- 물리적 컴퓨터로서의 서버는 기능적 서버가 동작하는 `실제 컴퓨터 장비(실물)`를 의미한다.
- 일반 PC(Desktop)와 유사하지만, 안정성과 성능을 고려해 고성능 HW, 안정적인 전원 공급 장치, 네트워크 연결 등이 강화 되어 있다. 
- 데이터 센터 등에서 다수의 서버가 사용되며, 각 서버는 다양한 기능적 서버 소프트웨어를 설치하여 서비스 제공에 활용된다.
- 당연하게도, <u>하나의 '물리적 컴퓨터로서의 서버'에 여러 개의 '기능적 의미의 서버'를 둘 수 있다.</u>
- 서버용 OS가 사용된다. 
   
**서버의 기능은 `소프트웨어`가 제공한다.**  
-> 서버의 목적에 맞는 소프트웨어를 설치하면 해당 기능을 제공하는 서버가 된다.  
`'xx 서버를 만든다' == 'xx 소프트웨어를 설치한다'`

**서버의 운영체제로는 주로 `Linux`가 사용된다.**

**컨테이너는 자유로이 옮길 수 있다.**  
-> 컨테이너 정보를 내보낸 후, 다른 도커 엔진에서 복원한다.  
-> 물리적 환경의 차이, 서버 구성의 차이를 무시할 수 있다.  
-> 환경 차이에 따라 새로이 환경을 구축해야 한다는 압박 없이 빠르게 개발 프로세스로의 진입이 가능하다.

**결론.**  
하나의 물리적 컴퓨터로서의 서버에서 컨테이너를 이용해 여러 가지 기능적 의미의 서버를 안전하게 운용한다.  
-> 물리 서버 수를 줄일 수 있다. (비용 감소)


## 번외. 도커와 가상화 기술의 차이 
--- 

VM을 만드는 가상화 기술은 가상의 `물리 서버`를 만드는 것과 동일하다. 

'가상'이라는 말은 물리적인 대상을 소프트웨어로 대체했다는 의미이다.

즉, 실제 물리적 컴퓨터에 들어가는 부품들(CPU, Mem, SSD, etc.)을 SW로 구현하는 것이다. 

따라서, 가상의 '물리 서버' 인 VM에는 어떠한 OS, SW도 사용이 가능하다. 